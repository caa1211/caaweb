<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<script type="text/javascript" src="../js/jquery-1.3.2.min.js"></script>
<script type="text/javascript" src="../js/AC_OETags.min.js"></script>
<script type="text/javascript" src="../js/json2.min.js"></script>
<script type="text/javascript" src="../js/cytoscapeweb.min.js"></script>

<script type="text/javascript" src="../js/itriTopology.js"></script>
<script type="text/javascript" src="../js/debug.js"></script>
<script type="text/javascript">
 
 $(function(){
	 var $topology = $("#cytoscapeweb").itriTopology(
		 {
				swfPath : "../swf/CytoscapeWeb",
				flashInstallerPath : "../swf/playerProductInstall",
				flashAlternateContent : "Le Flash Player est nécessaire.",
				groupNodes :
				[
						/*
						{ x:0, y:0,   data: { id: "super_group", type:"supergroup"} },
						{ x:0, y:0,   data: { parent:"super_group", containType: "compute", type:"group", posAlgorithm: "circle"} }, //linear, circle, spiral, vlinear
						{ x:0, y:0,   data: { parent:"super_group", containType: "network", type:"group"} },
						{ x:600, y:0, data: { parent:"super_group", containType: "storage", type:"group", posAlgorithm: "circle"} }	
						*/
						{ x:0, y:0,   data: { containGroup: "1", type:"group", posAlgorithm: "circle"} }, //linear, circle, spiral, vlinear
						{ x:0, y:0,   data: { containGroup: "2", type:"group"} },
						{ x:0, y:400, data: { containGroup: "3", type:"group", posAlgorithm: "linear"} }	
				],
				drawGroupNodes: false, 
				groupBy: "g"
		 }
	 );
	 
	 
	 //--test data
	 var data = {
				nodes : [
				{id : "1", type: "compute",  g:"1" }, 
				{id : "2", type: "network",  g:"2" },
				{id : "3", type: "storage",  g:"3" }
				],
				edges : [
				{id : "2to1",target : "1",source : "2"},
				{id : "3to2",target : "3",source : "2"}
				]
			}
			
		var data2 = {
					nodes:[
					{id : "network", type: "network", g:"2"}],
					 edges:[]};

		for(var i=0;i<200;i++)
		{
			var node = {id : "c"+i, type:"compute",  g:"1"};
			var edge = {id : "networkToC" + i , target:"network", source:"c"+i}
			data2.nodes.push(node);
			data2.edges.push(edge);
		}	
		
			
		for(var i=0;i<10;i++)
		{
			var node = {id : "s"+i, type:"storage" , g:"3"};
			var edge = {id : "networkTos" + i , target:"network", source:"s"+i}
			data2.nodes.push(node);
			data2.edges.push(edge);
		}	
		
	 
	 
	 //--
	 
	  $("#drawbtn1").click(function(){
		$topology.draw(data);
			printData(JSON.stringify(data));	
	 });
	 
	 
	 $("#drawbtn2").click(function(){
	 
		var option = {
				groupNodes :
				[
						{ x:0, y:0,   data: { containGroup: "1", type:"group", posAlgorithm: "circle"} }, //linear, circle, spiral, vlinear
						{ x:0, y:0,   data: { containGroup: "2", type:"group"} },
						{ x:0, y:400, data: { containGroup: "3", type:"group", posAlgorithm: "linear"} }	
				],
				groupBy:"g"
				};
				
		$topology.draw(data2, option);
				printData(JSON.stringify(data2));	
	 });
	
 
		
 $("#drawbtn3").click(function(){
 	var option = {
			groupNodes:[
						{ x:0, y:0,   data: { containGroup: "compute", type:"group", posAlgorithm: "spiral"} }, //linear, circle, spiral, vlinear
						{ x:0, y:0,   data: { containGroup: "network", type:"group"} },
						{ x:500, y:0, data: { containGroup: "storage", type:"group", posAlgorithm: "vlinear"} }	
			
			],
			groupBy:"type"
			};
			
	$topology.draw(data2, option);
			printData(JSON.stringify(data2));
 });
 
 
  $("#reDraw").click(function(){
	$topology.redraw();
 });
 
 
 
 
 
 
 });
 

</script>
<style>
/* The Cytoscape Web container must have its dimensions set. */
html,body {
	height: 100%;
	width: 100%;
	padding: 0;
	margin: 0;
}

#cytoscapeweb {
	width: 50%;
	height: 50%;
	border: solid 1px red;
}
/*
#cytoscapeweb {
	width: 500px;
	height: 500px;
	border: solid 1px black;
}*/

.menuCls {
   border: solid 1px green;
   background: gray;
   position:absolute;

</style>


</head>
<body>
	<div id="cytoscapeweb"></div>
	
	<button id='drawbtn1'>draw 1</button>
		<button id='drawbtn2'>draw 2</button>
			<button id='drawbtn3'>draw 3</button>
	<button id='testbtn'>draw 2</button>
	<button id='addbtn'>add</button>
	
		
		<button id='addNet'>addNet</button>
			<button id='debugger'>debugger</button>
			
			
				<button id='clearAll'>clearAll</button>
					<button id='reDraw'>reDraw</button>
					
						<button id="deleteNode">deleteNode</button>
						
			<div id='debugDiv'></div>
			
			<input id='dataArea' />
			<button id='drawData'>drawData</button>
			<button id='addData'>addData</button>
	<!--web link-->
	<br />
	<br />
	<br />
	<a href='aaaaa' class='ui-state-default ui-corner-all'
		target='http://cytoscapeweb.cytoscape.org/'>reference</a>


</body>
</html>
