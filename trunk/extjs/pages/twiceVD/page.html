<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>08.layout</title>
        <link rel="stylesheet" type="text/css" href="../../resources/css/ext-all.css" />
        <script type="text/javascript" src="../../adapter/ext/ext-base.js"></script>
        <script type="text/javascript" src="../../ext-all-debug.js"></script>
		<script type="text/javascript" src="localXHR.js"></script>
		  
		
            <script src="json2.js" type="text/javascript"></script>
         <!--link rel="stylesheet" type="text/css" href="page.css" /-->
		 
		 <script src="jquery-1.3.2.min.js" type="text/javascript"></script>
		<script src="VD/VDcomponent.js" type="text/javascript"> </script>
        <script type="text/javascript">
Ext.onReady(function(){

        
	$('<div id="vdContener" style="border: solid 10px blue;"><div id="vd1"></div><div id="vd2"></div></div>').appendTo('body');
		
    var viewport = new Ext.Viewport({
        layout: 'border',
        items: [
		    {region:'north', html:"<div id='dataContainer'></div>", title:'north',height:80,collapsible:true, frame:false},
            {region:'west',contentEl: btn, title:'west',width:100,collapsible:true},
            {region:'center',title:'center',collapsible:true, contentEl: vdContener}
        ]
    });

	 var date1 = {
     port1: {status: 'on', msg:'port1 on'},
     port2: {status: 'off'},
     rj1: {status: 'off',msg: 'rj1 on'},
     rj2: {status: 'on',msg: 'rj2 on'},
     rj3: {status: 'on',msg: 'rj3 on'},
     rj4: {status: 'on',msg: 'rj4 on'},
     rj1_left: {status: 'off',msg: ''},
     rj2_left: {status: 'offline',msg: 'rj2 left offline'},
     rj3_left: {status: 'on',msg: 'rj3 left off'},
     rj4_left: {status: 'offline',msg: 'rj4 left offline'},
     
     rj1_right: {status: 'off',msg: 'rj1 right on'},
     rj2_right: {status: 'off',msg: 'rj2 right on'},
     rj3_right: {status: 'off',msg: 'hj'},
     rj4_right: {status: 'on',msg: 'rj4 right on'}
 } ;
 
 
  var date2 = {
     port1: {status: 'off', msg:'port1 on'},
     port2: {status: 'on',  msg:'port2 on'},
     rj1: {status: 'off',msg: 'rj1 on'},
     rj2: {status: 'off',msg: 'rj2 on'},
     rj3: {status: 'on',msg: 'rj3 on'},
     rj4: {status: 'off',msg: 'rj4 on'},
     rj1_left: {status: 'off',msg: ''},
     rj2_left: {status: 'off',msg: 'rj2 left offline'},
     rj3_left: {status: 'offline',msg: 'rj3 left off'},
     rj4_left: {status: 'off',msg: 'rj4 left offline'},
     
     rj1_right: {status: 'off',msg: 'rj1 right on'},
     rj2_right: {status: 'off',msg: 'rj2 right on'},
     rj3_right: {status: 'on',msg: 'rj3 right on'},
     rj4_right: {status: 'off',msg: 'rj4 right on'}
 } ;
 
				
 var vd = $('#vd1').css('border', 'solid 1px red').VDcomponent({
     async: true,
     loaded: function(obj){
         vd.setValue(date1);
     },
     updated: function(){ 
       var myJSONText = JSON.stringify(vd.getValue());
       $('#dataContainer').html(myJSONText);
     }
     
 });
 
  var vd2 = $('#vd2').css('border', 'solid 1px red').VDcomponent({
     async: true,
     loaded: function(obj){
         vd.setValue(date1);
     },
     updated: function(){ 
       var myJSONText = JSON.stringify(vd.getValue());
       $('#dataContainer').html(myJSONText);
     }
     
 });
 
 
/* 
 function replacer(key, value) {
    if (typeof value === 'number' && !isFinite(value)) {
        return String(value);
    }
    return value;
}
*/

 $('#btn').toggle(function(){
     vd.setValue(date2);
     
        vd2.show();
     vd2.setValue(date1);

 }, function(){
     vd.setValue(date1);
     
      vd2.setValue(date2);
      vd2.hide();
 });
                
	
});
        </script>
    </head>
    <body>
    
		
        <script type="text/javascript" src="../examples.js"></script>
		  <button id='btn'>
            setValue
        </button>
    </body>
</html>
