<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <link href="css/reset.css" rel="stylesheet" type="text/css" />
 <link href="css/page.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/jquery-1.3.2.min.js"></script>


<script type="text/javascript" src="js/AC_OETags.min.js"></script>
<script type="text/javascript" src="js/json2.min.js"></script>
<script type="text/javascript" src="js/cytoscapeweb.min.js"></script>

<script type="text/javascript" src="js/itriTopology_new.js"></script>
<script type="text/javascript" src="js/testData.js"></script>
<script type="text/javascript" src="js/debug.js"></script>

<script type="text/javascript">
	$(function() {
	

		var options = {
			swfPath : "swf/CytoscapeWeb",
			flashInstallerPath : "swf/playerProductInstall",
			flashAlternateContent : "Le Flash Player est n√©cessaire."
		};

			
		var $vis =$.itriTopology("cytoscapeweb", options);
		$vis.updateDrawOptions(
			{
				layout:{
					name: "Group",
					options: {
								groupNodes :
								[
										{ x:200, y:0, data: { containGroup: "compute", type:"group", posAlgorithm: "vlinear"} }, //linear, circle, spiral, vlinear
										{ x:100, y:0, data: { containGroup: "network", type:"group", posAlgorithm: "vlinear"} },
										{ x:0, y:-30, data: { containGroup: "storage", type:"group", posAlgorithm: "vlinear"} }	
								],
								groupBy:"deviceType", 
								drawGroupNodes:true
							}
				}
			}
		);

		//add schema
		$vis.addSchema( {
								nodes: [
											{ name: "deviceType", type: "string" }
									   ]
					 });


	    $vis.drawData(data);
	
	    /*
		//use draw api

				//drawOption= {
				// network:{
				//	dataSchema:{...},
				//	data: data
				// },
				// visualStyle:{...},
				// layout:{...} 
				//};
			
		var drawOption = $vis.getDrawOptions();
		$.extend(drawOption.network.data, data);
		printData("drawOption :   " + JSON.stringify(drawOption));	
		$vis.draw(drawOption);
		*/
	 	
	});
</script>
<style>
/* The Cytoscape Web container must have its dimensions set. */
html,body {
	height: 100%;
	width: 100%;
	padding: 0;
	margin: 0;
}

#cytoscapeweb {
	width: 50%;
	height: 50%;
	border: solid 1px red;
}
/*
#cytoscapeweb {
	width: 500px;
	height: 500px;
	border: solid 1px black;
}*/
</style>


</head>
<body>
	<div id="cytoscapeweb"></div>
	<!--web link-->
	<br />
	<div id="debugDiv"></div>
	<br />
	<br />
	<a href='aaaaa' class='ui-state-default ui-corner-all'
		target='http://cytoscapeweb.cytoscape.org/'>reference</a>


</body>
</html>
