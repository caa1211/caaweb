<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<link href="../../tabFW/css/tabs.css" rel="stylesheet" type="text/css" />
<link href="../../../css/brick.css" rel="stylesheet" type="text/css" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript"></script>
  <script src="../../../js/jquery.getParams.js" type="text/javascript"></script> 
  <script src="../../tabFW/js/jquery.tools.min_tab.js" type="text/javascript"></script>
  <script src="../../../js/jquery.validate.pack.js" type="text/javascript"></script>
  <script type="text/javascript" src="../../../js/jquery.simplemodal-1.3.min.js"></script>
  <script type="text/javascript" src="../../tabFW/js/loadingMask.js"></script>   
  <!--for RD-->
  <link type="text/css" href="../../../css/ui/no-theme/jquery-ui-1.7.2.custom.css" rel="stylesheet" />
  <script type="text/javascript" src="../../../js/ui/jquery-ui-1.7.2.custom.min.js"></script>
  <script type="text/javascript" src="../../../js/zyJqFunctions.js"></script>
  <script type="text/javascript" src="../../../js/zyUiDialog.js"></script>
  <script type="text/javascript" src="../../../js/baseJS.js"></script>
  <script type="text/javascript" src="../../../js/general.js"></script>  
  <script type="text/javascript" src="../../../js/util.js"></script>
<script language='javascript'>
var certViewCerType='<%ejGet(certViewCerType)%>';
var sessionKey='<%ejGetOther(sessionKey)%>';
var certViewType='<%ejGet(certViewType)%>';
var certCategory='<%ejGet(certCategory)%>';

function showhide(element, sh)
{
    var status;
    if (sh == 1) {
        status = "block";
    }
    else {
        status = "none"
    }
        
	if (document.getElementById)
	{
		// standard
		document.getElementById(element).style.display = status;
	}
	else if (document.all)
	{
		// old IE
		document.all[element].style.display = status;
	}
	else if (document.layers)
	{
		// Netscape 4
		document.layers[element].display = status;
	}
}

function frmLoad(){
			
	  if(certViewType=='certDetail'){
	  	showhide('hiddenReqShow1',0);
	  	showhide('hiddenReqShow2',0);
	  	//showhide('hiddenReqShow3',0);
	  	//showhide('hiddenReqShow4',0);
	  }else if(certViewType=='reqShow'){//certAdd need to remove
	  	showhide('hiddenDetail1',0);
	  	showhide('hiddenDetail2',0);
	  	//showhide('hiddenDetail3',0);
		
	  	showhide('hiddenCert',0);//certificate
	  	showhide('hiddenPriv',0);//privatekey
	  }
	  
	  if(certCategory=='ca'){//certCA need to remove
	  	showhide('hiddenPriv',0);//privatekey
	  	showhide('hiddenCSR',0);//CSR
	  }
	  
	  if(certViewCerType!='request'){
	  	showhide('hiddenSigned',0);
	  }
	
}

function loadClick(name) {
   var loc = 'certLocalLoadSigned.cgi?certLocalAction=preload&certViewName=' + '<%ejGet(certViewName)%>';
   loc += '&sessionKey=' + sessionKey;
   var code = 'location="' + loc + '"';
   eval(code);
}

function backClick(){
	 var loc;
	 if(certCategory=='ca'){
	 	 window.parent.document.activePage('securitySettings-certificates', 1);
	 	 return;
	 }else if(certCategory=='local'){
	   loc = 'tabFW.html?tabJson=../securitySettings/certificates/tab.json';
	 }
	 var code = 'location="' + loc + '"';
	 eval(code);
}
	
</script>
</head>



<body onLoad='frmLoad()'>



<div id="hiddenDetail1" class="unit_title" >Certificate Details</div>
<div id="hiddenReqShow1" class="unit_title" >Certificate signing request</div>
<ul class="redline"></ul>

<div class="content_frame" >
<!--Unit Explain start-->
<div class="explain">
<div><b class="r1"></b><b class="r2"></b><b class="r3"></b><b class="r4"></b><b class="r4"></b></div>
<div id="hiddenDetail2" class="explain_text">
Certificate Details
</div>
<div id="hiddenReqShow2" class="explain_text">
Certificate signing request successfully created.  Note a request is not yet functional -
have it signed by a Certificate Authority and load the signed certificate to this device.
</div>
<div><b class="r4"></b><b class="r4"></b><b class="r3"></b><b class="r2"></b><b class="r1"></b></div></div>
<!--Unit Explain End-->	


<form>
	
	
<div class="data_frame"><ul>

<!--level 1 start--><li class="set1"> <div class="w_table">
  <!--Table define start--><table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" class="table_frame">
    <tr>
      <td><table width="100%" border="0" align="center" cellpadding="0" cellspacing="0">
        <tr>
          <td><table width="100%" border="0" align="center" cellpadding="0" cellspacing="0">
            <tr>
              <td><table width="100%" cellpadding="0" cellspacing="0" >

                <tr align="center">
                  <td valign="top" background="images/table_02_center.gif"><span class="top_font">Name</span></td>
                  <td class="table_font">
                  	<%ejGet(certViewName)%>
                  </td>	
                </tr>

                <tr align="center">
                  <td valign="top" background="images/table_02_center.gif"><span class="top_font">Type</span></td>
                  <td class="table_font">
                  	<%ejGet(certViewCerType)%>
                  </td>	
                </tr>

                <tr align="center">
                  <td valign="top" background="images/table_02_center.gif"><span class="top_font">Subject</span></td>
                  <td class="table_font">
                  	<%ejGet(certViewSubj)%>
                  </td>	
                </tr>

                <tr id="hiddenCert" align="center">
                  <td valign="top" background="images/table_02_center.gif"><span class="top_font">Certificate</span></td>
                  <td class="table_font">
                  	<textarea cols = '100' rows='20'><%ejGet(certViewContent)%></textarea>
                  </td>	
                </tr>

                <tr id="hiddenPriv" align="center">
                  <td valign="top" background="images/table_02_center.gif"><span class="top_font">Private Key</span></td>
                  <td class="table_font">
                  	<textarea cols = '100' rows='20'><%ejGet(certViewPriv)%></textarea>
                  </td>	
                </tr>

                <tr id="hiddenCSR" align="center">
                  <td valign="top" background="images/table_02_center.gif"><span class="top_font">Signing Request</span></td>
                  <td class="table_font">
                  	<textarea cols = '100' rows='20'><%ejGet(certViewSignReq)%></textarea>
                  </td>	
                </tr>
                
              </table></td>
            </tr>
          </table></td>
        </tr>
      </table></td>
    </tr>
  </table>
</div>
<!--Table define end-->
</li>
<!--level 1 end-->


<li class="space"> </li>

<!--Button define start-->
<li class="buttonframe"><div class="button_position">
	<input type='button' value='&nbsp Back &nbsp' onClick="backClick();">
	&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
	<input id="hiddenSigned" type='button' value='Load Signed Certificate' onclick="loadClick('<%ejGet(certViewName)%>');" >
</div></li>
<!--Button define end-->


</ul></div>	
</form> 
<!--Set area end-->		
</div>

</body>
</html>